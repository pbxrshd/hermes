<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
  <title>Hermes - Reports</title>
  <link rel="stylesheet" href="res/css/site.css">
  <script src="res/js/data.js"></script>
  <script src="res/js/site.js"></script>

  <script>

    function init() {
      var callback = function(evt, dir, phase, swipetype, distance) {
            var touchreport = '';
            touchreport += '<b>Dir:</b> ' + dir + '<br />';
            touchreport += '<b>Phase:</b> ' + phase + '<br />';
            touchreport += '<b>Swipe Type:</b> ' + swipetype + '<br />';
            touchreport += '<b>Distance:</b> ' + distance + '<br />';
            document.querySelector("#touch_surface").innerHTML = touchreport;
          };
      SWIPER.init("div.body-section", callback);
    }


  var TEMPORAL = (function() {
    // "dateRep" is ISO 8601 Complete date: YYYY-MM-DD (eg 1997-07-16)
    var WEEKDAYS = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    var MONTHS = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
    //
    function pad(number) {
      return (number < 10) ? "0" + number: number;
    }
    //
    function toDate(dateOrDateRep) {
      if (typeof dateOrDateRep === "undefined") {
        return getToday();
      }
      if (typeof dateOrDateRep === "string") {
        var date = new Date();
        var dateParts = dateOrDateRep.split("-");
        date.setFullYear(parseInt(dateParts[0]));
        date.setMonth(parseInt(dateParts[1]) - 1);
        date.setDate(parseInt(dateParts[2]));
        return date;
      }
      return dateOrDateRep;
    }
    function getDateOffsetted(dateOrDateRep, daysToOffset) {
      var date = toDate(dateOrDateRep);
      if (daysToOffset !== 0) {
        date.setDate(date.getDate() + daysToOffset);
      }
      return date;
    }
    // formats dateOrDateRep as ISO 8601 Complete date: YYYY-MM-DD (eg 1997-07-16)
    function format(dateOrDateRep) {
      var date = toDate(dateOrDateRep);
      return date.getUTCFullYear() +"-"+ pad(date.getUTCMonth() + 1) +"-"+ pad(date.getUTCDate());
    }
    // Tuesday 25 Oct
    function longFormat(dateOrDateRep) {
      var date = toDate(dateOrDateRep);
      return WEEKDAYS[date.getDay()] +" "+ date.getDate() +" "+ MONTHS[date.getMonth()];
    }
    function getToday() {
      return new Date();
    }
    function getYesterday(dateOrDateRep) {
      var date = toDate(dateOrDateRep);
      return getDateOffsetted(date, -1);
    }
    function getTomorrow(dateOrDateRep) {
      var date = toDate(dateOrDateRep);
      return getDateOffsetted(date, 1);
    }
    //
    function getWeek(dateOrDateRep) {
      var date = toDate(dateOrDateRep);
      var week = [];
      var dayIndex = date.getDay();
      var offsetToMondayOfWeek = (dayIndex > 0) ? (1 - dayIndex) : -6;
      var refDate = getDateOffsetted(date, offsetToMondayOfWeek);
      [0,1,2,3,4,5,6].forEach(function(e) {
        week.push(format(refDate));
        refDate = getDateOffsetted(refDate, 1);
      });
      return week;
    }
    //
    function getNextWeek(dateOrDateRep) {
      return getWeek(getDateOffsetted(dateOrDateRep, 7));
    }
    //
    function getPrevWeek(dateOrDateRep) {
      return getWeek(getDateOffsetted(dateOrDateRep, -7));
    }
    //
    return {
      format : format,
      longFormat : longFormat,
      today : getToday,
      yesterday : getYesterday,
      tomorrow : getTomorrow,
      thisWeek : getWeek,
      nextWeek : getNextWeek,
      prevWeek : getPrevWeek,
      toDate : toDate
    }
  })(); // TEMPORAL



  </script>


</head>
<body>

  <div id="main_header" class="fixed-header">
    <div class="header-left"><img src="res/img/main-menu.png" id="main_menu_icon" onclick="UI.event('main_menu_icon')" class="header-icon" /></div>
    <div class="header-center">Reports</div>
    <div class="header-right"></div>
  </div>

  <div class="body-section">

    <div id="touch_surface" style="width:100%;height:250px;borderx:1px solid black;background:silver;"></div>

    <p>
      body section
    </p>


  <div id="main_menu" class="hide" onclick="UI.event('main_menu_item', event)">
    <a href="#" class="main-menu-item">Raptors</a>
    <a href="#" class="main-menu-item">Schedule</a>
    <a href="#" class="main-menu-item">Settings</a>
    <a href="#" class="main-menu-item">Help</a>
  </div>

</div><!-- body-section  -->

<script>
  init();
</script>
</body>
</html>